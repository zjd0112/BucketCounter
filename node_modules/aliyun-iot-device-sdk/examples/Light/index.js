const aliyunIot = require('../../');

// const device = aliyunIot.device({
//   productKey: '<productKey>',
//   deviceName: '<deviceName>',
//   deviceSecret: '<deviceSecret>',
// });

const device = aliyunIot.device({
  productKey: "a1aq9sQk2JE",
  deviceName: "sdk_device1",
  deviceSecret: "shvvZGkq4mM641WUhpfJpyInVeJhAH2y",
  keepalive:10,
  qos:1,
  clean:true,
});


device.on('connect', () => {
  console.log('connect successfully!');
  device.serve('property/set', params => {
    console.log('receieve property/set serivce call, params is:', params);
    device.setProps(params);
  });
  device.serve('turnOff', () => {
    console.log('receieve turnOff serivce call');  
  });
});